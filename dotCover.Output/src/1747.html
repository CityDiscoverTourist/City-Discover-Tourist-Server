<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>D:\C#\CityDiscoverTourist\CityDiscoverTourist.Data\Migrations\20220410085820_CreateEntity.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

namespace CityDiscoverTourist.Data.Migrations
{
    public partial class CreateEntity : Migration
    {
        protected override void Up(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.DropForeignKey(
                name: &quot;FK_Tasks_TaskType_TaskTypeId&quot;,
                table: &quot;Tasks&quot;);

            migrationBuilder.DropPrimaryKey(
                name: &quot;PK_TaskType&quot;,
                table: &quot;TaskType&quot;);

            migrationBuilder.RenameTable(
                name: &quot;TaskType&quot;,
                newName: &quot;TaskTypes&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;UrlStory&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Description&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Address&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;QuestTypes&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;QuestTypes&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;EstimateTime&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Description&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;TaskTypes&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;TaskTypes&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: true,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;);

            migrationBuilder.AddPrimaryKey(
                name: &quot;PK_TaskTypes&quot;,
                table: &quot;TaskTypes&quot;,
                column: &quot;Id&quot;);

            migrationBuilder.CreateTable(
                name: &quot;FeedBack&quot;,
                columns: table =&gt; new
                {
                    Id = table.Column&lt;int&gt;(type: &quot;int&quot;, nullable: false)
                        .Annotation(&quot;SqlServer:Identity&quot;, &quot;1, 1&quot;),
                    Content = table.Column&lt;string&gt;(type: &quot;nvarchar(max)&quot;, nullable: true),
                    Rating = table.Column&lt;int&gt;(type: &quot;int&quot;, nullable: false),
                    CustomerId = table.Column&lt;int&gt;(type: &quot;int&quot;, nullable: false),
                    QuestId = table.Column&lt;Guid&gt;(type: &quot;uniqueidentifier&quot;, nullable: true)
                },
                constraints: table =&gt;
                {
                    table.PrimaryKey(&quot;PK_FeedBack&quot;, x =&gt; x.Id);
                    table.ForeignKey(
                        name: &quot;FK_FeedBack_Quests_QuestId&quot;,
                        column: x =&gt; x.QuestId,
                        principalTable: &quot;Quests&quot;,
                        principalColumn: &quot;Id&quot;);
                });

            migrationBuilder.CreateTable(
                name: &quot;Suggestion&quot;,
                columns: table =&gt; new
                {
                    Id = table.Column&lt;int&gt;(type: &quot;int&quot;, nullable: false)
                        .Annotation(&quot;SqlServer:Identity&quot;, &quot;1, 1&quot;),
                    Content = table.Column&lt;string&gt;(type: &quot;nvarchar(max)&quot;, nullable: true),
                    TaskId = table.Column&lt;int&gt;(type: &quot;int&quot;, nullable: false),
                    Status = table.Column&lt;string&gt;(type: &quot;nvarchar(max)&quot;, nullable: true)
                },
                constraints: table =&gt;
                {
                    table.PrimaryKey(&quot;PK_Suggestion&quot;, x =&gt; x.Id);
                    table.ForeignKey(
                        name: &quot;FK_Suggestion_Tasks_TaskId&quot;,
                        column: x =&gt; x.TaskId,
                        principalTable: &quot;Tasks&quot;,
                        principalColumn: &quot;Id&quot;,
                        onDelete: ReferentialAction.Cascade);
                });

            migrationBuilder.CreateIndex(
                name: &quot;IX_FeedBack_QuestId&quot;,
                table: &quot;FeedBack&quot;,
                column: &quot;QuestId&quot;);

            migrationBuilder.CreateIndex(
                name: &quot;IX_Suggestion_TaskId&quot;,
                table: &quot;Suggestion&quot;,
                column: &quot;TaskId&quot;);

            migrationBuilder.AddForeignKey(
                name: &quot;FK_Tasks_TaskTypes_TaskTypeId&quot;,
                table: &quot;Tasks&quot;,
                column: &quot;TaskTypeId&quot;,
                principalTable: &quot;TaskTypes&quot;,
                principalColumn: &quot;Id&quot;,
                onDelete: ReferentialAction.Cascade);
        }

        protected override void Down(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.DropForeignKey(
                name: &quot;FK_Tasks_TaskTypes_TaskTypeId&quot;,
                table: &quot;Tasks&quot;);

            migrationBuilder.DropTable(
                name: &quot;FeedBack&quot;);

            migrationBuilder.DropTable(
                name: &quot;Suggestion&quot;);

            migrationBuilder.DropPrimaryKey(
                name: &quot;PK_TaskTypes&quot;,
                table: &quot;TaskTypes&quot;);

            migrationBuilder.RenameTable(
                name: &quot;TaskTypes&quot;,
                newName: &quot;TaskType&quot;);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;UrlStory&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Description&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Address&quot;,
                table: &quot;Tasks&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;QuestTypes&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;QuestTypes&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;EstimateTime&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Description&quot;,
                table: &quot;Quests&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Status&quot;,
                table: &quot;TaskType&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AlterColumn&lt;string&gt;(
                name: &quot;Name&quot;,
                table: &quot;TaskType&quot;,
                type: &quot;nvarchar(max)&quot;,
                nullable: false,
                defaultValue: &quot;&quot;,
                oldClrType: typeof(string),
                oldType: &quot;nvarchar(max)&quot;,
                oldNullable: true);

            migrationBuilder.AddPrimaryKey(
                name: &quot;PK_TaskType&quot;,
                table: &quot;TaskType&quot;,
                column: &quot;Id&quot;);

            migrationBuilder.AddForeignKey(
                name: &quot;FK_Tasks_TaskType_TaskTypeId&quot;,
                table: &quot;Tasks&quot;,
                column: &quot;TaskTypeId&quot;,
                principalTable: &quot;TaskType&quot;,
                principalColumn: &quot;Id&quot;,
                onDelete: ReferentialAction.Cascade);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,10,0],[12,13,14,33,0],[16,13,18,36,0],[20,13,22,39,0],[24,13,30,43,0],[32,13,38,43,0],[40,13,46,43,0],[48,13,54,43,0],[56,13,62,43,0],[64,13,70,43,0],[72,13,78,43,0],[80,13,86,43,0],[88,13,94,43,0],[96,13,102,43,0],[104,13,110,43,0],[112,13,118,43,0],[120,13,126,43,0],[128,13,131,31,0],[133,13,135,35,0],[135,35,143,18,0],[143,18,145,17,0],[145,17,145,18,0],[145,18,146,21,0],[146,21,146,64,0],[146,64,147,21,0],[147,21,151,48,0],[151,48,152,17,0],[152,17,152,18,0],[152,18,152,20,0],[154,13,156,35,0],[156,35,163,18,0],[163,18,165,17,0],[165,17,165,18,0],[165,18,166,21,0],[166,21,166,66,0],[166,66,167,21,0],[167,21,172,62,0],[172,62,173,17,0],[173,17,173,18,0],[173,18,173,20,0],[175,13,178,36,0],[180,13,183,35,0],[185,13,191,54,0],[192,9,192,10,0],[195,9,195,10,0],[196,13,198,33,0],[200,13,201,35,0],[203,13,204,37,0],[206,13,208,37,0],[210,13,212,38,0],[214,13,222,36,0],[224,13,232,36,0],[234,13,242,36,0],[244,13,252,36,0],[254,13,262,36,0],[264,13,272,36,0],[274,13,282,36,0],[284,13,292,36,0],[294,13,302,36,0],[304,13,312,36,0],[314,13,322,36,0],[324,13,332,36,0],[334,13,342,36,0],[344,13,347,31,0],[349,13,355,54,0],[356,9,356,10,0]]);
    </script>
  </body>
</html>